

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Developing C/C++ Code for NI Linux Real-Time with the Visual Studio Code Remote Development Extension &#8212; nilrt-docs 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Opkg Package System Tutorials" href="../opkg/opkg_tutorials_index.html" />
    <link rel="prev" title="Visual Studio Code Remote Extension Tutorials" href="vscode_remote_index.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../opkg/opkg_tutorials_index.html" title="Opkg Package System Tutorials"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="vscode_remote_index.html" title="Visual Studio Code Remote Extension Tutorials"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">nilrt-docs 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="vscode_remote_index.html" accesskey="U">Visual Studio Code Remote Extension Tutorials</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Developing C/C++ Code for NI Linux Real-Time with the Visual Studio Code Remote Development Extension</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="developing-c-c-code-for-ni-linux-real-time-with-the-visual-studio-code-remote-development-extension">
<h1>Developing C/C++ Code for NI Linux Real-Time with the Visual Studio Code Remote Development Extension<a class="headerlink" href="#developing-c-c-code-for-ni-linux-real-time-with-the-visual-studio-code-remote-development-extension" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id1">Introduction</a></p>
<ul>
<li><p><a class="reference internal" href="#requirements" id="id2">Requirements</a></p></li>
<li><p><a class="reference internal" href="#a-note-on-support" id="id3">A Note on Support</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#why-remote-development" id="id4">Why Remote Development?</a></p></li>
<li><p><a class="reference internal" href="#configuring-remote-ssh-development-for-ni-linux-real-time" id="id5">Configuring Remote SSH Development for NI Linux Real-Time</a></p>
<ul>
<li><p><a class="reference internal" href="#enabling-ssh-on-the-linux-real-time-target" id="id6">Enabling SSH on the Linux Real-Time Target</a></p></li>
<li><p><a class="reference internal" href="#configuring-ssh-keys" id="id7">Configuring SSH Keys</a></p></li>
<li><p><a class="reference internal" href="#installing-required-packages" id="id8">Installing Required Packages</a></p></li>
<li><p><a class="reference internal" href="#configuring-visual-studio-code-for-remote-development" id="id9">Configuring Visual Studio Code for Remote Development</a></p></li>
<li><p><a class="reference internal" href="#adding-remote-visual-studio-code-extensions" id="id10">Adding Remote Visual Studio Code Extensions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#building-running-and-debugging-a-c-c-hello-world-program" id="id11">Building, Running, and Debugging a C/C++ “Hello, World!” Program</a></p>
<ul>
<li><p><a class="reference internal" href="#creating-and-configuring-a-visual-studio-code-project" id="id12">Creating and Configuring a Visual Studio Code Project</a></p></li>
<li><p><a class="reference internal" href="#creating-a-simple-hello-world-program" id="id13">Creating a Simple “Hello, World!” Program</a></p></li>
<li><p><a class="reference internal" href="#defining-the-cmake-configurations-and-building-the-binary" id="id14">Defining the CMake Configurations and Building the Binary</a></p></li>
<li><p><a class="reference internal" href="#running-the-executable" id="id15">Running the Executable</a></p></li>
<li><p><a class="reference internal" href="#debugging" id="id16">Debugging</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#additional-resources" id="id17">Additional Resources</a></p></li>
</ul>
</div>
<section id="introduction">
<h2><a class="toc-backref" href="#id1">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This document is intended as an overview of using NI Linux Real-Time and
Visual Studio Code Remote Development. It includes using CMake to create
a simple “Hello, World!” application.</p>
<section id="requirements">
<h3><a class="toc-backref" href="#id2">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>OpenSSH (included in Windows 10 as of autumn 2018)</p></li>
<li><p>Visual Studio Code with the <a class="reference external" href="https://code.visualstudio.com/docs/remote/ssh">Remote – SSH
Extension</a></p></li>
<li><p><a class="reference external" href="https://www.ni.com/en-us/support/documentation/compatibility/17/real-time-controllers-and-real-time-operating-system-compatibili.html">NI Linux Real-Time x64 System</a>
-  <strong>Note:</strong> The system should not be in safe mode and should have
software installed. ARMv7 NI Linux Real-Time devices are not
supported.</p></li>
</ul>
</section>
<section id="a-note-on-support">
<h3><a class="toc-backref" href="#id3">A Note on Support</a><a class="headerlink" href="#a-note-on-support" title="Permalink to this headline">¶</a></h3>
<p>While the process documented here worked at the time of writing, this may change as improvements and modifications are made to both the NI
Linux Real-Time Operating System and the Visual Studio Code Remote SSH Extension. This tutorial was created with a cRIO-9035, the NI CompactRIO
19.1 Software Set, Visual Studio Code 1.43.2, and Remote – SSH Extension 0.50.1.</p>
<p>For official NI policies on support of third-party Linux tools, refer to the <a class="reference external" href="https://forums.ni.com/t5/NI-Linux-Real-Time-Documents/NI-Linux-Real-Time-FAQ/ta-p/3495630?profile.language=en">NI Linux Real-Time FAQ</a>.</p>
</section>
</section>
<section id="why-remote-development">
<h2><a class="toc-backref" href="#id4">Why Remote Development?</a><a class="headerlink" href="#why-remote-development" title="Permalink to this headline">¶</a></h2>
<p>There are two main options for compiling NI Linux Real-Time C/C++ code:</p>
<ol class="arabic simple">
<li><p>Compile directly on a system running the NI Linux Real-Time Operating
System</p></li>
<li><p>Compile on a different Operating System using the NI Linux Real-Time
Cross Compile Toolchains</p></li>
</ol>
<p>Unfortunately, both methods have drawbacks when working with embedded
headless systems such as many NI Linux Real-Time Systems. Compiling on
target requires either frequent file transfers or editing directly on
the target, which can be unwieldy when coupled with the lack of a
full-featured editor. Cross compiling requires specialized toolchains
and management of a sysroot, which can quickly become complicated with
large numbers of dependencies.</p>
<p>Remote development combines the advantages of both types of development:
A full-featured editor on a Host PC while performing compilation,
development, and debugging directly on a system running NI Linux
Real-Time. No cross compiling is necessary, and dependencies can be
installed directly to the remote system without concern of linker errors
when deploying.</p>
<p><strong>Note:</strong> For more information on cross compiling, refer to NI Linux
Real-Time Cross Compiling: Using the NI Linux Real-Time Cross Compile
Toolchain with Visual Studio Code.</p>
</section>
<section id="configuring-remote-ssh-development-for-ni-linux-real-time">
<h2><a class="toc-backref" href="#id5">Configuring Remote SSH Development for NI Linux Real-Time</a><a class="headerlink" href="#configuring-remote-ssh-development-for-ni-linux-real-time" title="Permalink to this headline">¶</a></h2>
<p>Before a project can be created for a Linux Real-Time system with the
remote development workflow, some initial setup is required.
Specifically, it’s necessary to install development dependencies and
configure the remote SSH connection to the NI Linux Real-Time system.</p>
<section id="enabling-ssh-on-the-linux-real-time-target">
<h3><a class="toc-backref" href="#id6">Enabling SSH on the Linux Real-Time Target</a><a class="headerlink" href="#enabling-ssh-on-the-linux-real-time-target" title="Permalink to this headline">¶</a></h3>
<p>First, ensure that SSH is enabled on the NI Linux Real-Time device that
will be used as the host for remote development, and install the
required packages such as the GNU C Compiler and related tools.</p>
<ol class="arabic">
<li><p>In NI MAX, navigate to the <strong>System Settings</strong> for the NI Linux
Real-Time device.</p></li>
<li><div class="line-block">
<div class="line">Under <strong>Startup Settings</strong>, confirm that the <strong>Enable Secure Shell
Server (sshd)</strong> is checked. If not, enable it and click <strong>Save</strong> to
apply the change and reboot the system.</div>
</div>
<img alt="../_images/image118.png" src="../_images/image118.png" />
</li>
</ol>
</section>
<section id="configuring-ssh-keys">
<h3><a class="toc-backref" href="#id7">Configuring SSH Keys</a><a class="headerlink" href="#configuring-ssh-keys" title="Permalink to this headline">¶</a></h3>
<p>It’s easier to manage and interact with a remote development system if
an SSH key pair is used. This allows the user to connect from a Host PC
to the remote NI Linux Real-Time host for development without requiring
a login each time a connection is opened.</p>
<p>It’s recommended to follow the process outlined in the official Remote -
SSH Extension documentation to configure these keys easily.
Specifically, there are example terminal commands to configure
everything quickly from the Host PC in the <a class="reference external" href="https://code.visualstudio.com/docs/remote/troubleshooting">Remote Development Tips and
Tricks</a>
document.</p>
</section>
<section id="installing-required-packages">
<h3><a class="toc-backref" href="#id8">Installing Required Packages</a><a class="headerlink" href="#installing-required-packages" title="Permalink to this headline">¶</a></h3>
<p>Before starting a project with remote development, several tools need to
be installed to the remote target. It’s possible to install these
packages and extensions directly to the target through the remote
connection.</p>
<ol class="arabic">
<li><div class="line-block">
<div class="line">In a Command Prompt or PowerShell, open an SSH connection to the
remote host.</div>
</div>
<img alt="../_images/image216.png" src="../_images/image216.png" />
</li>
<li><div class="line-block">
<div class="line">Run the following command to update the list of available packages
in <a class="reference external" href="http://download.ni.com/ni-linux-rt/feeds/">the NI-hosted package
repository</a>.</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>opkg update
</pre></div>
</div>
</li>
<li><p>Using opkg, the following packages need to be installed via the opkg
install <em>&lt;package name(s)&gt;</em> command:</p>
<ul class="simple">
<li><p><em>packagegroup-core-buildessential</em> – A group of common development
packages such as gcc, make, binutils, g++, and more.</p></li>
<li><p><em>gdb</em> – GNU Debugger.</p></li>
<li><p><em>python-core</em> – The python 2.7 interpreter and core modules.</p></li>
<li><p><em>cmake</em> – CMake make system for generating build files.</p></li>
</ul>
</li>
</ol>
</section>
<section id="configuring-visual-studio-code-for-remote-development">
<h3><a class="toc-backref" href="#id9">Configuring Visual Studio Code for Remote Development</a><a class="headerlink" href="#configuring-visual-studio-code-for-remote-development" title="Permalink to this headline">¶</a></h3>
<p>Once the SSH keys are configured, the remote system can be configured in
Visual Studio Code.</p>
<ol class="arabic">
<li><p>Launch Visual Studio Code on the Host PC.</p></li>
<li><div class="line-block">
<div class="line">In Visual Studio Code, open the <strong>Remote Explorer</strong> view.</div>
</div>
<img alt="../_images/image315.png" src="../_images/image315.png" />
</li>
<li><div class="line-block">
<div class="line">Click the <strong>+</strong> button in the <strong>SSH Targets</strong> list to add a new
target.</div>
</div>
<img alt="../_images/image45.png" src="../_images/image45.png" />
</li>
<li><div class="line-block">
<div class="line">Enter the ssh command to connect to the target and hit <strong>Enter</strong>.</div>
</div>
<img alt="../_images/image53.png" src="../_images/image53.png" />
</li>
<li><p>Select the SSH configuration file you wish the profile to be saved
to. E.g., for user-specific configurations use
<em>C:Users&lt;username&gt;.sshconfig</em>.</p></li>
<li><div class="line-block">
<div class="line">The NI Linux Real-Time target should now appear as an option under
the <strong>SSH Targets</strong> view.</div>
</div>
<blockquote>
<div><img alt="../_images/image62.png" src="../_images/image62.png" />
</div></blockquote>
</li>
<li><div class="line-block">
<div class="line">In Visual Studio Code, right-click on the NI Linux Real-Time target
and select <strong>Connect to Host in Current Window</strong>. This will
initialize a connection to the remote host and install the required
Visual Studio Code components.</div>
</div>
<img alt="../_images/image75.png" src="../_images/image75.png" />
</li>
<li><div class="line-block">
<div class="line">When prompted, choose <strong>Linux</strong> as the platform of the remote host.</div>
</div>
<img alt="../_images/image86.png" src="../_images/image86.png" />
</li>
<li><div class="line-block">
<div class="line">Visual Studio Code will install the required remote components.</div>
<div class="line"><strong>Note:</strong> You may receive the following warning message:</div>
</div>
<img alt="../_images/image95.png" src="../_images/image95.png" />
<p>This message can be safely ignored after confirming the proper
versions. Refer to <a class="reference external" href="https://code.visualstudio.com/docs/remote/linux#_remote-host-container-wsl-linux-prerequisites">Remote host / container / WSL Linux
prerequisites</a>
for more information.</p>
</li>
</ol>
</section>
<section id="adding-remote-visual-studio-code-extensions">
<h3><a class="toc-backref" href="#id10">Adding Remote Visual Studio Code Extensions</a><a class="headerlink" href="#adding-remote-visual-studio-code-extensions" title="Permalink to this headline">¶</a></h3>
<p>Once the required components are installed to the NI Linux Real-Time
remote host, it’s possible to install and use certain Visual Studio Code
extensions. For this tutorial, the <a class="reference external" href="https://code.visualstudio.com/docs/languages/cpp">C/C++
Extension</a> will be
used to add IntelliSense, debugging, and other features to the Visual
Studio Code environment for remote development. To add this extension:</p>
<ol class="arabic">
<li><p>Open a Visual Studio Code instance running on the remote host. This
process is described in steps 6 through 9 in the <strong>Configuring Visual
Studio Code for Remote Development</strong> section of this document.</p></li>
<li><div class="line-block">
<div class="line">Open the <strong>Extensions</strong> view.</div>
</div>
<img alt="../_images/image104.png" src="../_images/image104.png" />
</li>
<li><div class="line-block">
<div class="line">In the <strong>Extensions</strong> view, search for the <strong>C/C++</strong> Extension.</div>
</div>
<img alt="../_images/image119.png" src="../_images/image119.png" />
</li>
<li><p>Click the option to <strong>Install on SSH</strong> to install the extension to
the remote host.</p></li>
<li><div class="line-block">
<div class="line">Once the installation is complete, click the <strong>Reload Required</strong>
option to restart Visual Studio Code with the extension.</div>
</div>
<img alt="../_images/image124.png" src="../_images/image124.png" />
</li>
</ol>
<p><strong>Note:</strong> Using the C/C++ extension will keep an IntelliSense cache on
the remote target. This has the potential to get very large with larger
projects. The
<a class="reference external" href="https://code.visualstudio.com/docs/cpp/faq-cpp#_what-is-the-ipch-folder">C_Cpp.intelliSenseCacheSize</a>
property can be used to mitigate this.</p>
</section>
</section>
<section id="building-running-and-debugging-a-c-c-hello-world-program">
<h2><a class="toc-backref" href="#id11">Building, Running, and Debugging a C/C++ “Hello, World!” Program</a><a class="headerlink" href="#building-running-and-debugging-a-c-c-hello-world-program" title="Permalink to this headline">¶</a></h2>
<p>With the environment and extensions installed and configured, it’s time
to create a program. This section will cover creating, running, and
debugging a simple executable program.</p>
<section id="creating-and-configuring-a-visual-studio-code-project">
<h3><a class="toc-backref" href="#id12">Creating and Configuring a Visual Studio Code Project</a><a class="headerlink" href="#creating-and-configuring-a-visual-studio-code-project" title="Permalink to this headline">¶</a></h3>
<p>This section covers creation and configuration of a simple Visual Studio
Code project. For more information on the specific configurations, refer
to the documentation for Visual Studio Code Projects, Tasks, and the
C/C++ extension.</p>
<ol class="arabic">
<li><div class="line-block">
<div class="line">First, create a folder to act as the workspace root. This can be
done in a terminal by navigating to <strong>Terminal &gt;&gt; New Terminal</strong> in
the menu bar.</div>
</div>
<img alt="../_images/image135.png" src="../_images/image135.png" />
</li>
<li><div class="line-block">
<div class="line">In Visual Studio Code, open the folder by navigating to <strong>File &gt;&gt;
Open Folder</strong>, then entering the file path desired. <strong>Note:</strong> You
can also open local folders but doing so will close the SSH
Connection and revert VS Code to a local environment.</div>
</div>
<img alt="../_images/image143.png" src="../_images/image143.png" />
</li>
<li><div class="line-block">
<div class="line">Create folders for the project in the Explorer view either with the
<strong>New Folder</strong> button or by using the right-click &gt;&gt; <strong>New Folder</strong>
option.</div>
</div>
<img alt="../_images/image153.png" src="../_images/image153.png" />
</li>
<li><div class="line-block">
<div class="line">Hit <strong>Ctrl + Shift + P</strong> to open the Command Palette, then search
for and select <strong>C/C++: Edit Configurations (JSON)</strong>. This will
create and open a <em>c_cpp_properties.json</em> file in the .<em>vscode</em>
directory.</div>
</div>
<img alt="../_images/image163.png" src="../_images/image163.png" />
</li>
<li><div class="line-block">
<div class="line">Complete the configuration file as shown below.</div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="nt">&quot;configurations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Linux&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;includePath&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">            </span><span class="s2">&quot;${workspaceFolder}/**&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">],</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;defines&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;compilerPath&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/usr/bin/gcc&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;cStandard&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c11&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;cppStandard&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c++17&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;intelliSenseMode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gcc-x64&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">   </span><span class="p">],</span><span class="w"></span>
<span class="w">   </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p>Save and close the configuration file.</p></li>
<li><div class="line-block">
<div class="line">From the Command Palette, select <strong>Tasks: Configure Task.</strong> When
prompted, choose to <strong>Create tasks.json from</strong> template and then
choose the Others template. This will create a <em>tasks.json</em> file in
the <em>.vscode</em> directory from which shell command tasks can be
defined. Alternatively, create the file manually.</div>
</div>
<img alt="../_images/image183.png" src="../_images/image183.png" />
</li>
<li><div class="line-block">
<div class="line">Configure <em>tasks.json</em> as shown below.</div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="c1">// See https://go.microsoft.com/fwlink/?LinkId=733558</span><span class="w"></span>
<span class="w">   </span><span class="c1">// for the documentation about the tasks.json format</span><span class="w"></span>
<span class="w">   </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">   </span><span class="nt">&quot;tasks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CMake&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shell&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cmake ${workspaceFolder}/build&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;cwd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${workspaceFolder}/build&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;problemMatcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;make&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shell&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;make&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;cwd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${workspaceFolder}/build&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;problemMatcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$gcc&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shell&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;make clean&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;cwd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${workspaceFolder}/build&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;problemMatcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">   </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p>Save and close <em>tasks.json.</em></p></li>
</ol>
</section>
<section id="creating-a-simple-hello-world-program">
<h3><a class="toc-backref" href="#id13">Creating a Simple “Hello, World!” Program</a><a class="headerlink" href="#creating-a-simple-hello-world-program" title="Permalink to this headline">¶</a></h3>
<p>With the project settings configured, now the C/C++ source file can be
created. This tutorial will use a C source file, but C++ would be
similar.</p>
<ol class="arabic">
<li><div class="line-block">
<div class="line">In the <strong>Explorer</strong> view, create a new file titled <em>helloWorld.c</em>
in the <em>src</em> directory by clicking the <strong>New File</strong> button or
right-clicking and selecting <strong>New File</strong>.</div>
</div>
<img alt="../_images/image203.png" src="../_images/image203.png" />
</li>
<li><p>Complete the source file as shown below. Note the IntelliSense
functionality provided by the C/C++ extension.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello, World!!!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">EXIT_SUCCESS</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p>Save the source file.</p></li>
</ol>
</section>
<section id="defining-the-cmake-configurations-and-building-the-binary">
<h3><a class="toc-backref" href="#id14">Defining the CMake Configurations and Building the Binary</a><a class="headerlink" href="#defining-the-cmake-configurations-and-building-the-binary" title="Permalink to this headline">¶</a></h3>
<p>In this tutorial, <a class="reference external" href="https://cmake.org/documentation/">CMake</a> will be
used to generate GNU make files which will direct the build process. For
more information on CMake and make, refer to the official documentation
for each tool.</p>
<ol class="arabic">
<li><div class="line-block">
<div class="line">In the <strong>Explorer</strong> view, create a new file titled <em>CMakeLists.txt</em>
in the <em>build</em> directory. This file will define the parameters used
by CMake to generate a make file for the project.</div>
</div>
<img alt="../_images/image223.png" src="../_images/image223.png" />
</li>
<li><p>Complete the file as shown below. Refer to the CMake documentation
for additional configuration options such as compiler flags.</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.7.2</span><span class="p">)</span>

<span class="c"># project settings</span>
<span class="nb">project</span><span class="p">(</span><span class="s">helloWorld</span><span class="w"> </span><span class="s">VERSION</span><span class="w"> </span><span class="s">0.1.0</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_RUNTIME_OUTPUT_DIRECTORY</span><span class="w"> </span><span class="s">bin</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_GENERATOR</span><span class="w"> </span><span class="s2">&quot;Unix Makefiles&quot;</span><span class="p">)</span>

<span class="c"># executable settings</span>
<span class="nb">add_executable</span><span class="p">(</span><span class="s">helloWorld</span><span class="w"> </span><span class="s">../src/helloWorld.c</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_BUILD_TYPE</span><span class="w"> </span><span class="s">Debug</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Save and close the file.</p></li>
<li><div class="line-block">
<div class="line">From the Command Palette (<strong>Ctrl + Shift + P</strong>), select <strong>Tasks:
Run Task</strong> then <strong>CMake.</strong> This will run the task created
previously to allow Visual Studio Code to invoke CMake. Note the
output in the terminal.</div>
</div>
<img alt="../_images/image243.png" src="../_images/image243.png" />
</li>
<li><p>From the <strong>Tasks: Run Task</strong>, select <strong>make</strong> to build the executable
by invoking GNU make.</p></li>
<li><div class="line-block">
<div class="line">Confirm that the executable build successfully.</div>
</div>
<img alt="../_images/image253.png" src="../_images/image253.png" />
</li>
</ol>
</section>
<section id="running-the-executable">
<h3><a class="toc-backref" href="#id15">Running the Executable</a><a class="headerlink" href="#running-the-executable" title="Permalink to this headline">¶</a></h3>
<p>Now that the executable has been built, we need to test that it runs
properly.</p>
<ol class="arabic">
<li><p>Open using <strong>Terminal &gt;&gt; New Terminal</strong> from the menu bar.</p></li>
<li><div class="line-block">
<div class="line">Change directories to the location of the executable file.</div>
</div>
<img alt="../_images/image263.png" src="../_images/image263.png" />
</li>
<li><div class="line-block">
<div class="line">Run the executable and confirm that it prints the “Hello World!!!”
message to the console.</div>
</div>
<img alt="../_images/image272.png" src="../_images/image272.png" />
</li>
</ol>
</section>
<section id="debugging">
<h3><a class="toc-backref" href="#id16">Debugging</a><a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><div class="line-block">
<div class="line">Open the <strong>Run</strong> view in Visual Studio Code.</div>
</div>
<img alt="../_images/image282.png" src="../_images/image282.png" />
</li>
<li><p>Click the option to <strong>create a launch.json file</strong> to create a launch
template. For more information on the <em>launch.json</em> file, refer to
the official Visual Studio Code documentation.</p></li>
<li><div class="line-block">
<div class="line">When prompted, select <strong>C++ (GDB/LLDB)</strong> as the environment.</div>
</div>
<img alt="../_images/image292.png" src="../_images/image292.png" />
</li>
<li><div class="line-block">
<div class="line">This will create and open a <em>launch.json</em> file. Complete the file
as shown below.</div>
</div>
<img alt="../_images/image302.png" src="../_images/image302.png" />
</li>
<li><p>Save the configuration.</p></li>
<li><p>Open the source file (e.g., helloWorld.c).</p></li>
<li><div class="line-block">
<div class="line">Place a breakpoint where needed.</div>
</div>
<img alt="../_images/image316.png" src="../_images/image316.png" />
</li>
<li><p>Click the green arrow in the <strong>Run</strong> view to start debugging. Note
that this creates a new Terminal which will show the application
output while the gdb output is printed to the Debug Console.</p></li>
<li><p>Debug as normal using the tools.</p></li>
</ol>
</section>
</section>
<section id="additional-resources">
<h2><a class="toc-backref" href="#id17">Additional Resources</a><a class="headerlink" href="#additional-resources" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.ni.com/en-us/innovations/white-papers/13/introduction-to-ni-linux-real-time.html">Introduction to NI Linux Real-Time</a></p></li>
<li><p><a class="reference external" href="https://forums.ni.com/t5/NI-Linux-Real-Time-Documents/NI-Linux-Real-Time-Cross-Compiling-Using-the-NI-Linux-Real-Time/ta-p/4026449">NI Linux Real-Time Cross Compiling: Using the NI Linux Real-Time Cross Compile Toolchain with Visual Studio Code</a>
-  <a class="reference external" href="https://forums.ni.com/t5/NI-Linux-Real-Time/ct-p/7013">NI Linux Real-Time Community</a></p></li>
<li><p><a class="reference external" href="https://github.com/ni/linux">NI Linux Real-Time kernel source</a></p></li>
<li><p><a class="reference external" href="https://www.ni.com/en-us/innovations/white-papers/13/c-c---embedded-system-design-tools.html">C/C++ Embedded System Design Tools</a></p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Developing C/C++ Code for NI Linux Real-Time with the Visual Studio Code Remote Development Extension</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#a-note-on-support">A Note on Support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#why-remote-development">Why Remote Development?</a></li>
<li><a class="reference internal" href="#configuring-remote-ssh-development-for-ni-linux-real-time">Configuring Remote SSH Development for NI Linux Real-Time</a><ul>
<li><a class="reference internal" href="#enabling-ssh-on-the-linux-real-time-target">Enabling SSH on the Linux Real-Time Target</a></li>
<li><a class="reference internal" href="#configuring-ssh-keys">Configuring SSH Keys</a></li>
<li><a class="reference internal" href="#installing-required-packages">Installing Required Packages</a></li>
<li><a class="reference internal" href="#configuring-visual-studio-code-for-remote-development">Configuring Visual Studio Code for Remote Development</a></li>
<li><a class="reference internal" href="#adding-remote-visual-studio-code-extensions">Adding Remote Visual Studio Code Extensions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-running-and-debugging-a-c-c-hello-world-program">Building, Running, and Debugging a C/C++ “Hello, World!” Program</a><ul>
<li><a class="reference internal" href="#creating-and-configuring-a-visual-studio-code-project">Creating and Configuring a Visual Studio Code Project</a></li>
<li><a class="reference internal" href="#creating-a-simple-hello-world-program">Creating a Simple “Hello, World!” Program</a></li>
<li><a class="reference internal" href="#defining-the-cmake-configurations-and-building-the-binary">Defining the CMake Configurations and Building the Binary</a></li>
<li><a class="reference internal" href="#running-the-executable">Running the Executable</a></li>
<li><a class="reference internal" href="#debugging">Debugging</a></li>
</ul>
</li>
<li><a class="reference internal" href="#additional-resources">Additional Resources</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="vscode_remote_index.html"
                          title="previous chapter">Visual Studio Code Remote Extension Tutorials</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../opkg/opkg_tutorials_index.html"
                          title="next chapter">Opkg Package System Tutorials</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/remote/vscode_remote.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../opkg/opkg_tutorials_index.html" title="Opkg Package System Tutorials"
             >next</a> |</li>
        <li class="right" >
          <a href="vscode_remote_index.html" title="Visual Studio Code Remote Extension Tutorials"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">nilrt-docs 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="vscode_remote_index.html" >Visual Studio Code Remote Extension Tutorials</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Developing C/C++ Code for NI Linux Real-Time with the Visual Studio Code Remote Development Extension</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright NI.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
  </body>
</html>